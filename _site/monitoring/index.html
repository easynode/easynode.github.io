<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="EasyNode Team">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@easynode_hipster" />
    <meta name="twitter:title" content="a light web framework for Node.JS " />
    <meta name="twitter:description" content="Our general purpose is to code with a synchronized way but run in an asynchronous way for the web project written Node.JS." />
    <meta name="twitter:image:src" content="http://easynode.github.io/img/screenshot_1.png" />
    <meta name="twitter:url" content="http://easynode.github.io/" />
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#353d47">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#353d47">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#353d47">
    <title>Monitoring your JHipster Applications</title>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

    <!-- CSS Libs -->
    <link rel="stylesheet" type="text/css" href="/lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/dataTables.bootstrap.css">
    <!-- CSS App -->
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/themes/flat-blue.css">
    
    <!-- Bootstrap Docs CSS subset to get icon -->
    <!--<link href="/css/bootstrap-docs.css" rel="stylesheet">-->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon with QHD -->
    <link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16" />
</head>

<body class="flat-blue">
    <div class="app-container expanded ">
        <div class="row content-container">
            <nav class="navbar navbar-inverse navbar-fixed-top navbar-top">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-expand-toggle fa-rotate-90">
                            <i class="fa fa-bars icon"></i>
                        </button>
                        <ol class="breadcrumb navbar-breadcrumb">
                            <li class="active"></li>
                        </ol>
                        <button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
                            <i class="fa fa-th icon"></i>
                        </button>
                    </div>
                    <ul class="nav navbar-nav navbar-right">
                        <button type="button" class="navbar-right-expand-toggle pull-right visible-xs light">
                            <i class="fa fa-times icon"></i>
                        </button>
                        
                        <!--<li class="">
                            <a href="/v2-documentation/" class="dropdown-toggle navlink" target="_blank" role="button">v2.x Docs</a>
                        </li>-->
                        <li class="">
                            <a href="http://easynode.github.io/" class="dropdown-toggle navlink" target="_blank" role="button"><i class="fa fa-github fa-2x"></i></a>
                        </li>
                    </ul>

                </div>
            </nav>
            <div class="side-menu sidebar-inverse">
                <nav class="navbar navbar-default" role="navigation">
                    <div class="side-menu-container">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="/">
                                <div class="icon"><img src="/img/logo-jhipster2x.png" height="50px"></div>
                                <div class="title brand">EasyNode </div>
                            </a>
                            <button type="button" class="navbar-expand-toggle pull-right visible-xs">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </div>
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="/">
                                    <span class="icon fa fa-home"></span><span class="title">Home</span>
                                </a>
                            </li>
                            <li >
                                <a href="/releases/">
                                    <span class="icon fa fa-file-text-o"></span><span class="title">Get Started</span>
                                </a>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-1">
                                    <span class="icon fa fa-road"></span><span class="title">TUTORIALS</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-1" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/hello-world/"><i class="fa fa-fw fa-stack-overflow"></i> Hello World</a></li>
                                            <li ><a href="/demo-nos/"><i class="fa fa-fw fa-stack-overflow"></i> Demo For NOS</a></li>
                                            <li ><a href="/demo-redis/"><i class="fa fa-fw fa-stack-overflow"></i> Demo For Redis</a></li>
                                            <li ><a href="/demo-rds/"><i class="fa fa-fw fa-stack-overflow"></i> Demo For Rds</a></li>
                                            <li ><a href="/demo-nqs/"><i class="fa fa-fw fa-stack-overflow"></i> Demo For NQS</a></li>
                                            <li ><a href="/demo-rpc/"><i class="fa fa-fw fa-stack-overflow"></i> Demo For RPC</a></li>
                                            <li ><a href="/smart-watch/"><i class="fa fa-fw fa-stack-overflow"></i> Smart Watch</a></li>
                                            <li ><a href="/demo-icp/"><i class="fa fa-fw fa-stack-overflow"></i> ICP </a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-2">
                                    <span class="icon fa fa-fw fa-wrench"></span><span class="title"> References </span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/ref_frames/"><i class="fa fa-fw fa-cloud-download"></i> Other Web Frameworks</a></li>
                                            <li ><a href="/resources-recommended/"><i class="fa fa-fw fa-keyboard-o"></i> Resources Recommended </a></li>
                                            <li ><a href="/docker-compose/"><i class="fa fa-fw fa-music"></i> Docker Compose</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-3"><span class="icon fa fa-fw fa-list-ol"></span><span class="title"> Getting Help </span></a>
                                <div id="dropdown-3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/api/"><i class="fa fa-fw  fa-sitemap"></i> API Doc </a></li>
                                           </ul>
                                    </div>
                                </div>
                            </li>
                    <!-- /.navbar-collapse -->
                </nav>
            </div>
            <!-- Main Content -->


            <div id="page-wrapper" class="container-fluid">
                <div class="side-body" id="page-top">
                    
                    <div class="row page-content-wrapper">
                        <div class="col-lg-12">
                            <h1 id="i-classfa-fa-line-charti-monitoring-your-jhipster-applications"><i class="fa fa-line-chart"></i> Monitoring your JHipster Applications</h1>

<p>JHipster provides several easy ways to get started with logs and metrics monitoring of your applications. Logs and metrics forwarding to a remote server can be set up simply by setting the relevant properties in your <code>application.yml</code> configuration file. Then those logs and metrics can be displayed and analyzed in real-time using a monitoring platform. Aware of the importance of monitoring your applications in production, the JHipster project offers its own monitoring solution called the <a href="https://github.com/jhipster/jhipster-console">JHipster Console</a>, which is detailed below.</p>

<h2 id="configuring-your-apps-for-log-and-metrics-forwarding-to-a-remote-server">Configuring your apps for log and metrics forwarding to a remote server</h2>

<h3 id="a-nameconfiguring-log-forwardinga-forwarding-logs-to-the-jhipster-console"><a name="configuring-log-forwarding"></a> Forwarding logs to the JHipster Console</h3>

<p>To configure a JHipster application to forward their logs to JHipster Console, enable logstash logging in their <code>application-dev.yml</code> or <code>application-prod.yml</code>:</p>

<pre><code>jhipster:
    logging:
        logstash:
            enabled: true
            host: localhost
            port: 5000
            queueSize: 512
</code></pre>

<p>To configure metrics monitoring, enable metrics log reporting in your JHipster application:</p>

<pre><code>jhipster:
    metrics:
        logs:
            enabled: true
    	    reportFrequency: 60 # seconds
</code></pre>

<p>Setting those properties will enrich your logs with metrics coming from Dropwizard metrics.</p>

<h2 id="a-namejhipster-consolea-introducing-the-jhipster-console"><a name="jhipster-console"></a> Introducing the JHipster Console</h2>

<p>The <a href="https://github.com/jhipster/jhipster-console">JHipster Console</a> is a monitoring tool based on the <a href="https://www.elastic.co/products">ELK Stack</a>. It provides ready-to-use dashboards and analytics tools to have a real-time overview of your infrastructure’s performance.</p>

<p>The ELK stack is composed of:</p>

<ul>
  <li><a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a> for indexing the data (logs and metrics)</li>
  <li><a href="https://www.elastic.co/products/logstash">Logstash</a> to manage and process the logs received from the applications</li>
  <li><a href="https://www.elastic.co/products/kibana">Kibana</a> to visualize the logs with a nice interface</li>
</ul>

<p>The JHipster Console is a Docker-based project that adds features on top of the official Elasticsearch, Logstash and Kibana Docker images. We have made a few visual changes to Kibana and set-up useful dashboards, so that you can get started to monitor your JHipster applications in minutes instead of the hours that would be needed to set up your own monitoring infrastructure.</p>

<p><img src="/images/jhipster-console-monitoring.png" alt="JHipster Console Monitoring Dashboard" title="Monitoring Dashboard" /></p>

<h2 id="setting-up-jhipster-console">Setting up JHipster Console</h2>

<p>If you already have a JHipster <a href="/microservices-architecture/">microservice architecture</a> set up with the Docker Compose workflow, the JHipster Console can be automatically set up by the Docker Compose sub-generator.</p>

<p>If you are using the monolithic version of JHipster, you can get JHipster Console’s Docker-Compose file and configuration by running the following commands:</p>

<pre><code>mkdir conf
curl -o conf/logstash.conf https://raw.githubusercontent.com/jhipster/jhipster-console/v1.1.0/log-monitoring/log-config/logstash.conf
curl -o docker-compose.yml https://raw.githubusercontent.com/jhipster/jhipster-console/v1.1.0/bootstrap/docker-compose.yml
</code></pre>

<p>Then you will be able to start the console with:</p>

<pre><code>docker-compose up -d
</code></pre>

<p>It will start Elasticsearch, Logstash, Kibana and ElastAlert all at once. You will then be able to access the JHipster Console at <a href="http://localhost:5601">http://localhost:5601</a>. It should automatically receive logs from your applications if they have been correctly configured to forward their logs and metrics to Logstash.</p>

<p>To stop everything, run:</p>

<pre><code>docker-compose stop
</code></pre>

<p>Once stopped, you can remove the containers if you don’t intend to start them again:</p>

<pre><code>docker-compose rm
</code></pre>

<div class="alert alert-warning"><i>Warning: </i>
If you are using Docker Machine on Mac or Windows, your Docker daemon has only limited access to your OS X or Windows file system. Docker Machine tries to auto-share your /Users (OS X) or C:\Users\&lt;username&gt; (Windows) directory. So you have to create the project folder under these directory to avoid any issues especially if you are using the JHipster Console for monitoring.
</div>

<h2 id="using-jhipster-console">Using JHipster Console</h2>

<p>Once your application is running with logs and metrics forwarding enabled, you can view a dashboards by clicking on the <strong>Load Saved Dashboards</strong> icon ( <i class="fa fa-folder-open-o"></i> ) in the <strong>Dashboard</strong> tab.</p>

<div class="alert alert-info">Tip: If you encounter the following error with dashboards: <i>Cannot read property 'byName' of undefined</i>, try refreshing the <b>logstash-*</b> index pattern field list under <b>Settings</b> &gt; <b>Indices</b> using the yellow refresh button (<i class="fa fa-refresh"></i>)</div>

<p>You can also use Kibana’s <strong>Discover</strong> and <strong>Visualize</strong> tabs to explore your data and create new visualizations. To understand how to use Kibana’s interface effectively please refer to its official documentation in particular the <a href="https://www.elastic.co/guide/en/kibana/current/discover.html">Discover</a>, <a href="https://www.elastic.co/guide/en/kibana/current/visualize.html">Visualize</a> and <a href="https://www.elastic.co/guide/en/kibana/current/dashboard.html">Dashboard</a> sections of the Kibana User Guide.</p>

<p><img src="/images/jhipster-console-jvm.png" alt="JHipster Console JVM Dashboard" title="JVM Dashboard" /></p>

<h3 id="data-persistence-with-docker-volumes">Data persistence with docker volumes</h3>

<p>When using JHipster Console you can enable docker volumes in the <code>docker-compose.yml</code> file by uncommenting the appropriate lines. Those volumes are used to share data between containers and the host. They will persist data and configuration even if containers are removed from your system.</p>

<ul>
  <li>Elasticsearch has its data saved to <code>log-monitoring/log-data</code></li>
  <li>Logstash loads its configuration from <code>log-monitoring/log-config/logstash.conf</code>, you can edit this file to add new parsing rules for data received by logstash on UDP port 5000.</li>
  <li>Kibana loads dashboards description files in <code>jhipster-console/dashboards</code> on each startup.</li>
</ul>

<h3 id="save-your-custom-searches-visualizations-and-dashboards-as-json-for-auto-import">Save your custom searches, visualizations and dashboards as JSON for auto import</h3>

<p>Searches, visualization and dashboards created in Kibana can be exported using the <strong>Settings</strong> &gt; <strong>Objects</strong> menu.<br />
You can then extract the JSON description of a specific object under the <code>_source</code> field of the export.json file.<br />
You can then put this data in a JSON file in one of the <code>jhipster-console/dashboards</code> sub-folder for auto-import.</p>

<p>If you have created useful dashboards and visualizations for your JHipster applications please consider contributing those back to the community by submitting a Pull Request on the <a href="https://github.com/jhipster/jhipster-console">JHipster Console’s GitHub project</a>.</p>

<h2 id="a-namealertinga-alerting-with-elastalert"><a name="alerting"></a> Alerting with Elastalert</h2>

<p>JHipster Console comes with built-in alerting by integrating <a href="https://github.com/Yelp/elastalert">Elastalert</a>, an alerting system that can generate alerts from data in Elasticsearch. Elastalert is simple to use and able to define complex alerting rules to detect failures, spikes or any pattern based on an Elasticsearch Query.</p>

<h4 id="enable-alerting">Enable alerting</h4>

<p>To enable alerting, add the following lines for the <strong>jhipster-console</strong> service in <code>docker-compose.yml</code>.</p>

<pre><code>environment:
    - ENABLE_ALERTING=true
volumes:
    - ./alerts/config.yaml:/opt/elastalert/config.yaml
    - ./alerts/rules/:/opt/elastalert/rules
</code></pre>

<h4 id="configure-alerting">Configure alerting</h4>

<p>Elastalert configuration can be modified in <code>alerts/config.yaml</code>. For example, you can configure the alerting frequency and the buffer period, by changing the following properties:</p>

<pre><code>run_every:
    minutes: 1
buffer_time:
    minutes: 5
</code></pre>

<p>Then you will need to write some rules that define when alerts will be thrown.</p>

<h4 id="write-alertings-rules">Write alertings rules</h4>

<p>To define new alerts, add new YAML rule files in <code>alerts/rules</code> and then test them over past data with:</p>

<pre><code>./test-alerting-rule.sh rule.yaml
</code></pre>

<p>Note that those YAML files should have a <code>.yaml</code> file extension. Read more on how to write rules at <a href="https://elastalert.readthedocs.org/en/latest/ruletypes.html">Elastalert’s official documentation</a>.</p>

<h4 id="alerting-dashboard">Alerting dashboard</h4>

<p>Go to <a href="http://localhost:5601/app/kibana#/dashboard/alerting-dashboard">localhost:5601/app/kibana#/dashboard/alerting-dashboard</a> to see the history of all your alerts.</p>


                        </div>
                    </div>
                    <!-- /.row -->
                    

                    <!-- Footer -->
                    <footer class="text-center">
                        <div class="footer-above">
                            <div class="container"><!--
                                <div class="row">
                                    <div class="footer-col col-md-4">
                                        <div class="col-md-6 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-coffee fa-fw"></i> <a class="link" href="/team/">Team</a></h5>
                                            <h5 class="text-left"><i class="fa fa-pencil fa-fw"></i> <a class="link" href="/artwork">Artwork</a></h5>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-gavel fa-fw"></i> <a class="link" href="/policies/">Policies</a></h5>
                                            <h5 class="text-left"><i class="fa fa-gift fa-fw"></i> <a class="link" href="/thanks/">Thanks</a></h5>
                                        </div>
                                    </div>
                                    <div class="footer-col col-md-4">
                                        <ul class="list-inline">
                                            <li>
                                                <a href="https://twitter.com/java_hipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://github.com/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-github"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://gitter.im/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-comments"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="footer-col col-md-4 google-search">
                                        <script>
                                            (function () {
                                                var cx = '004687894124070278856:-ryvp1pk0xi';
                                                var gcse = document.createElement('script');
                                                gcse.type = 'text/javascript';
                                                gcse.async = true;
                                                gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                                                    '//cse.google.com/cse.js?cx=' + cx;
                                                var s = document.getElementsByTagName('script')[0];
                                                s.parentNode.insertBefore(gcse, s);
                                            })();
                                        </script>
                                        <gcse:search></gcse:search>

                                    </div>
                                </div>
                            --></div>
                        </div>
                        <div class="footer-below">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-12">
                                        Copyright &copy; EasyNode 2016 | Theme based on <a href="https://github.com/IronSummitMedia/startbootstrap-freelancer" target="_blank">Freelancer</a> and <a href="https://github.com/tui2tone/flat-admin-bootstrap-templates" target="_blank">Flat admin</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
                <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
                <div class="scroll-top page-scroll visible-xs visible-sm">
                    <a class="btn btn-primary" href="#page-top">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <!-- /#page-wrapper -->
        </div>
        <!-- /#wrapper -->
    </div>
    <!-- Javascript Libs -->
    <script type="text/javascript" src="/lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="/lib/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/lib/js/ace.js"></script>
    <script type="text/javascript" src="/lib/js/mode-html.js"></script>
    <script type="text/javascript" src="/lib/js/theme-github.js"></script>
    <script type="text/javascript" src="/lib/js/jquery.easing.min.js"></script>

    

    <!--App Javascript -->
    <script type="text/javascript" src="/js/app.js"></script>
    
    
    <!-- JavaScript -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-28023666-1', 'easynode.github.io');
        ga('send', 'pageview');
    </script>
</body>

</html>
